!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports=class{constructor(t,e){this.x=t,this.y=e}print(){console.log(JSON.stringify(this))}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){const s=n(0);function i(t){return Math.pow(t,2)}function r(t){return Math.PI*(t/180)}function o(t){return Math.sin(r(t))}function h(t){return Math.cos(r(t))}function a(t){return 0===t.x?0:l(180*Math.atan2(t.y,t.x)/Math.PI)}function l(t){return(t+360)%360}t.exports={rotate:function(t,e){const n=l(a(t)+e),r=function(t){return Math.sqrt(i(t.x)+i(t.y))}(t),u=h(n)*r,c=o(n)*r;return new s(u,c)},translate:function(t,e){return new s(t.x+e.x,t.y+e.y)},sin:o,cos:h}},function(t,e,n){(function(e){const s=n(0),i=n(4);class r{constructor({rings:t,aliveStates:e,colors:n,startCells:r,startT:o=0,canvasId:h}){this.colors=n,this.pentaflower=new i({rings:t,aliveStates:e}),r.forEach(t=>{this.pentaflower.setState(t)}),this.prevFills=null,this.fills=this.pentaflower.pentagons.map(t=>t.getState()?this.colors[0]:this.colors[1]),this.t=0,this.canvasId=h,this.hasRenderedCanvas=!1;const a=this.pentaflower.getDimensions();this.fifthX=a.rangeX/5,this.fifthY=a.rangeY/5;const l=new s(a.offset.x,a.offset.y);this.viewXEnd=a.rangeX-2*this.fifthX,this.viewYEnd=a.rangeY-2*this.fifthY,this.points=this.pentaflower.pentagons.map(t=>t.points.reduce((t,e)=>`${t} ${e.x+l.x},${e.y+l.y}`,"")),this.prevFills=this.pentaflower.pentagons.map(t=>t.getState()?n[0]:n[1]);for(let t=0;t<o;t++)this.pentaflower.progress(),this.t++}nextT(){this.pentaflower.progress(),this.t++,this.renderCanvas()}renderInitialCanvas(){document.getElementById(this.canvasId).innerHTML=`      <svg xmlns="http://www.w3.org/2000/svg" width="700px" height="700px" viewBox="${this.fifthX} ${this.fifthY} ${this.viewXEnd} ${this.viewYEnd}" preserveAspectRatio="xMidYMid slice" style="background: ${this.colors[2]};">\n        ${this.fills.map((t,e)=>`<polygon points="${this.points[e]}" fill="${t}" id="${this.canvasId}-poly-${e}" />`)}\n      </svg>\n    `}renderCanvas(){this.hasRenderedCanvas||(this.renderInitialCanvas(),this.hasRenderedCanvas=!0),this.fills=this.pentaflower.pentagons.map(t=>t.getState()?this.colors[0]:this.colors[1]),this.fills.map((t,e)=>{if(t!==this.prevFills[e])return{index:e,fill:t}}).filter(t=>!!t).forEach(({index:t,fill:e})=>{document.getElementById(`${this.canvasId}-poly-${t}`).setAttribute("fill",e)}),this.prevFills=this.fills}export(t="pentaflower"){const e=document.createElement("a"),n=new window.Blob([document.getElementById(this.canvasId).innerHTML],{type:"text/plain"});e.href=URL.createObjectURL(n),e.download=`${t}.svg`,e.click()}}t.exports=r,e.PentaflowerCanvas=r}).call(this,n(1))},function(t,e,n){(function(e){const{generateRegularPolygon:s}=n(5),i=n(0),{rotate:r}=n(2);function o(t,e){return t.map(t=>new i(t.x+e.x,t.y+e.y))}function h(t,e,n){let i=s(t);return e&&(i=function(t,e){return t.map(t=>r(t,e))}(i,e)),n&&(i=o(i,n)),i}function a(t,e){return new i(t.x-e.x,t.y-e.y)}const l={a:[1,3],b:[0,2],c:[4,1],d:[2,1],e:[1,0],f:[2,3],g:[1,2],h:[0,1],i:[3,1],j:[2,0]},u=[{1:{firstNeighbor:"b",neighbor:"a"},2:{firstNeighbor:"f",neighbor:"g"}},{1:{firstNeighbor:"c",neighbor:"b"},2:{firstNeighbor:"g",neighbor:"h"}},{1:{firstNeighbor:"d",neighbor:"c"},2:{firstNeighbor:"h",neighbor:"i"}},{1:{firstNeighbor:"e",neighbor:"d"},2:{firstNeighbor:"i",neighbor:"j"}},{1:{firstNeighbor:"a",neighbor:"e"},2:{firstNeighbor:"j",neighbor:"f"}}],c=h(5,null,new i(-.5,-.5)),f=h(5,36,new i(-.5,-.5));class p{constructor(t,e,n,s){this.points=t,this.type=e,this.level=n,this.index=s,this.quadrant=Math.ceil(s/n),this.subQuad=Math.ceil(2*s/n)%10,this.isFirst=s%n==0,this.isLast=s%n==n-1;const i=this.subQuad%2==0;this.altType="2"===e&&i||"1"===e&&!i?"a":"b",this.isLastInSub=s%(n/2)==0,this.hasTwoNeighbors="b"===this.altType||"a"===this.altType&&this.isLastInSub,this.neighbors=[],this.nextState=!1,this.state=!1}getState(){return this.state}addNeighbor(t){const e=l[t],n="1"===this.type?f:c;return o(n,a(this.points[e[0]],n[e[1]]))}toSVG(t){return pointsToSVG(this.points,this.getColor(),new i(t.x,t.y))}}class g{constructor({rings:t=50,aliveStates:e=[1]}){this.aliveStates=e;const n=c,s=o(f,a(n[1],f[0])),i=o(f,a(n[1],f[3])),r=o(f,a(n[0],f[2])),h=o(f,a(n[4],f[1])),l=o(f,a(n[2],f[1])),g=[new p(n,"1",0,0),new p(i,"2",1,0),new p(r,"2",1,1),new p(h,"2",1,2),new p(l,"2",1,3),new p(s,"2",1,4)],b=g[0];for(var d=1;d<=5;d++)g[d].neighbors.push(b),b.neighbors.push(g[d]);function w(t){return 0===t?1:5*t+w(t-1)}!function t(e,n,s){if(s<n){const r=w(s-1),o=w(s),h=s%2==0?"1":"2",a="1"===h?"2":"1",l=[];for(var i=r;i<o;i++)l.push(i);let c=0;l.forEach((t,n)=>{const i=Math.floor(n/s),o=n%s==s-1;if("2"===h&&n%s==0){const n=u[i][h].firstNeighbor,r=e[t].addNeighbor(n),o=new p(r,a,s+1,c);o.neighbors.push(e[t]),e[t].neighbors.push(o),e.push(o),c++}const l=u[i][h].neighbor,f=e[t].addNeighbor(l),g=new p(f,a,s+1,c);g.neighbors.push(e[t]),e.push(g),e[t].neighbors.push(g);const b=e[t-1],d=e[t+1];if(!b.hasTwoNeighbors||b.isLast||b.isFirst||"1"!==b.type?!d.hasTwoNeighbors||d.isLast||d.isFirst||"2"!==d.type||(g.neighbors.push(d),d.neighbors.push(g)):(g.neighbors.push(b),b.neighbors.push(g)),c++,"1"===h&&o){const n=u[i][h].firstNeighbor,o=e[t].addNeighbor(n),l=new p(o,a,s+1,c);l.neighbors.push(e[t]),e[t].neighbors.push(l),e.push(l);let f=e[t+1];f.hasTwoNeighbors&&(f.level===s?(l.neighbors.push(f),f.neighbors.push(l)):(f=e[r],l.neighbors.push(f),f.neighbors.push(l))),c++}}),t(e,n,s+1)}}(g,t,1),this.pentagons=g}setState(t){this.pentagons[t].state=!0}progress(){this.pentagons;this.pentagons.forEach((t,e)=>{const n=t.neighbors.filter(t=>t.state).length;6===e&&3!==t.neighbors.length&&console.log(t.neighbors),t.nextState=this.aliveStates.includes(n)}),this.pentagons.forEach(t=>{t.state=t.nextState})}getDimensions(){const t=this.pentagons.map(t=>t.points),e=t.map(t=>Math.min(...t.map(t=>t.x))),n=t.map(t=>Math.min(...t.map(t=>t.y))),s=t.map(t=>Math.max(...t.map(t=>t.x))),r=t.map(t=>Math.max(...t.map(t=>t.y))),o=Math.min(...e),h=Math.min(...n),a=Math.max(...s)-o,l=Math.max(...r)-h;return{offset:new i(-o,-h),rangeX:a,rangeY:l}}}t.exports=g,e.Pentaflower=g}).call(this,n(1))},function(t,e,n){const s=n(0),{rotate:i,translate:r,sin:o,cos:h}=n(2);t.exports={generateRegularPolygon:function(t){if(t<3)throw new Error("Polygon must have 3 or more sides.");let e=[];e.push(new s(1,0)),e.push(new s(0,0));const n=function(t){return 180*(t-2)/t}(t),a=n+180;e.push(new s(h(n),o(n)));const l=function(t,e){return n=>{const s=i(n,t);return r(s,e)}}(a,new s(e[2].x,e[2].y)),u=t-3;for(let t=0;t<u;t++)e.push(l(e[e.length-1]));return e}}}]);